<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="chrome=1"/><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/><link rel="stylesheet" type="text/css" href="../../docs/css/react-datum.css"/><link rel="stylesheet" type="text/css" href="../../docs/css/bootstrap-light.css"/><link rel="stylesheet" type="text/css" href="../../docs/css/syntaxHighlight.css"/><link rel="stylesheet" type="text/css" href="../../docs/css/docs.css"/><link rel="stylesheet" type="text/css" href="../../docs/css/example.css" media="screen"/><link rel="stylesheet" type="text/css" href="../../docs/css/print.css" media="print"/><link rel="stylesheet" type="text/css" href="../../css/docs/tilegridExample.css" media="screen"/><title>react-datum</title></head><body class="api-index"><script type="text/javascript" src="../../docs/vendor/jquery.min.js"></script><script type="text/javascript" src="../../docs/vendor/underscore-min.js"></script><script type="text/javascript" src="../../docs/vendor/backbone-min.js"></script><script type="text/javascript" src="../../docs/vendor/react.min.js"></script><script type="text/javascript" src="../../docs/vendor/react-dom.min.js"></script><script type="text/javascript" src="../../docs/vendor/react-datum.min.js"></script><script type="text/javascript" src="../../docs/examples/examplesMetadata.js"></script><script type="text/javascript" src="../../docs/vendor/tilegrid.min.js"></script><script type="text/javascript" src="../../test/lib/kittenData.js"></script><header><div><img src="../../img/docs/react-datum.logo.png" href="/docs"/><em>A set of React components for interacting with Backbone collections and models</em></div><div class="main-menu no-print"><a class="main-menu-item" href="../../docs">Introduction and Getting Started </a><a class="main-menu-item" href="../../docs/examples">Live Demo &amp; Examples </a><a class="main-menu-item selected" href="../../docs/api">API Docs </a></div><a class="github-link no-print" href="https://github.com/zulily/react-datum.git" target="blank">View on Github</a></header><div class="main-content"><div class="api-docs"><div class="toc no-print"><section><h4>Datum Components</h4><ul><li><a href="#CollectionPicker"><h5>CollectionPicker</h5></a><ul><a href="#CollectionPicker-propTypes">Properties</a></ul><ul><a href="#CollectionPicker-defaultProps">Default Properties</a></ul><ul><a href="#CollectionPicker-contextTypes">Context Variables</a></ul><ul><strong>Instance Methods</strong><li><a href="#CollectionPicker_onChange">onChange</a></li><li><a href="#CollectionPicker_filterSuggestionModels">filterSuggestionModels</a></li></ul></li><li><a href="#Datum"><h5>Datum</h5></a><ul><a href="#Datum-propTypes">Properties</a></ul><ul><a href="#Datum-defaultProps">Default Properties</a></ul><ul><a href="#Datum-contextTypes">Context Variables</a></ul><ul><strong>Instance Methods</strong><li><a href="#Datum_renderWrappedDisplayValue">renderWrappedDisplayValue</a></li><li><a href="#Datum_renderEllipsizedValue">renderEllipsizedValue</a></li><li><a href="#Datum_isDirty">isDirty</a></li><li><a href="#Datum_addValidations">addValidations</a></li><li><a href="#Datum_getValueForDisplay">getValueForDisplay</a></li><li><a href="#Datum_getValueForInput">getValueForInput</a></li><li><a href="#Datum_getInputValue">getInputValue</a></li><li><a href="#Datum_getModel">getModel</a></li><li><a href="#Datum_getModelValue">getModelValue</a></li><li><a href="#Datum_setModelValue">setModelValue</a></li><li><a href="#Datum_getInputComponent">getInputComponent</a></li><li><a href="#Datum_validate">validate</a></li></ul></li><li><a href="#Email"><h5>Email</h5></a><ul><a href="#Email-propTypes">Properties</a></ul></li><li><a href="#LazyPhoto"><h5>LazyPhoto</h5></a></li><li><a href="#Link"><h5>Link</h5></a><ul><a href="#Link-propTypes">Properties</a></ul><ul><a href="#Link-defaultProps">Default Properties</a></ul></li><li><a href="#Number"><h5>Number</h5></a><ul><a href="#Number-propTypes">Properties</a></ul><ul><a href="#Number-defaultProps">Default Properties</a></ul><ul><strong>Class Methods</strong><li><a href="#Number_safelyFloat">safelyFloat</a></li></ul><ul><strong>Instance Methods</strong><li><a href="#Number_getValueForInput">getValueForInput</a></li><li><a href="#Number_roundToDecimalPlaces">roundToDecimalPlaces</a></li><li><a href="#Number_abbreviate">abbreviate</a></li></ul></li><li><a href="#Percent"><h5>Percent</h5></a><ul><strong>Instance Methods</strong><li><a href="#Percent_getModelValue">getModelValue</a></li><li><a href="#Percent_setModelValue">setModelValue</a></li><li><a href="#Percent_getFormats">getFormats</a></li></ul></li><li><a href="#Text"><h5>Text</h5></a><ul><a href="#Text-propTypes">Properties</a></ul><ul><a href="#Text-defaultProps">Default Properties</a></ul></li><li><a href="#WholeNumber"><h5>WholeNumber</h5></a></li></ul></section><section><h4>Contextual Components</h4><ul><li><a href="#ClickToEditForm"><h5>ClickToEditForm</h5></a></li><li><a href="#Collection"><h5>Collection</h5></a><ul><a href="#Collection-propTypes">Properties</a></ul></li><li><a href="#CollectionStats"><h5>CollectionStats</h5></a><ul><a href="#CollectionStats-propTypes">Properties</a></ul><ul><a href="#CollectionStats-defaultProps">Default Properties</a></ul><ul><a href="#CollectionStats-contextTypes">Context Variables</a></ul></li><li><a href="#ContextualData"><h5>ContextualData</h5></a><ul><a href="#ContextualData-propTypes">Properties</a></ul><ul><a href="#ContextualData-defaultProps">Default Properties</a></ul><ul><strong>Instance Methods</strong><li><a href="#ContextualData_constructor">constructor</a></li><li><a href="#ContextualData_fetchCollectionOrModel">fetchCollectionOrModel</a></li><li><a href="#ContextualData_initializeCollectionOrModel">initializeCollectionOrModel</a></li><li><a href="#ContextualData_getInputCollectionOrModel">getInputCollectionOrModel</a></li><li><a href="#ContextualData_getCollectionOrModelToProvide">getCollectionOrModelToProvide</a></li><li><a href="#ContextualData_needsReinitializing">needsReinitializing</a></li></ul></li><li><a href="#Form"><h5>Form</h5></a><ul><a href="#Form-propTypes">Properties</a></ul><ul><a href="#Form-defaultProps">Default Properties</a></ul><ul><a href="#Form-contextTypes">Context Variables</a></ul><ul><strong>Instance Methods</strong><li><a href="#Form_renderButtonContainer">renderButtonContainer</a></li><li><a href="#Form_save">save</a></li><li><a href="#Form_validateDatums">validateDatums</a></li><li><a href="#Form_validateModel">validateModel</a></li><li><a href="#Form_saveModel">saveModel</a></li><li><a href="#Form_addDatum">addDatum</a></li><li><a href="#Form_removeDatum">removeDatum</a></li></ul></li><li><a href="#Model"><h5>Model</h5></a><ul><a href="#Model-propTypes">Properties</a></ul></li><li><a href="#Options"><h5>Options</h5></a><ul><strong>Class Methods</strong><li><a href="#Options_set">set</a></li><li><a href="#Options_get">get</a></li></ul></li><li><a href="#SelectedModel"><h5>SelectedModel</h5></a><ul><a href="#SelectedModel-contextTypes">Context Variables</a></ul><ul><strong>Instance Methods</strong><li><a href="#SelectedModel_getInputCollectionOrModel">getInputCollectionOrModel</a></li></ul></li></ul></section></div><div class="doc-content"><section><h2>Datum Components</h2><div class="component-doc" id="CollectionPicker"><div class="signature">module.exports = class CollectionPicker extends Datum</div><h3>CollectionPicker</h3><div class="content"><div class="markdown undefined"><span><p>This react-datum component provides a selector (picker) based on <a href="https://jedwatson.github.io/react-select/">react-select</a>.  </p>
<p>The <code>props.attr</code> on <code>props.model</code> should return and id or other key that is used to find a model in a collection and display a value from the lookup model.   </p>
<p>Say for example, you have a model like this:</p>
<pre><code class="lang-javascript"><div id="highlighter_29438" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="keyword">var</code> <code class="plain">kittenModel = </code><code class="keyword">new</code> <code class="plain">Backbone.Model({</code></div><div class="line number2 index1 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">name: </code><code class="string">"Fluffy"</code><code class="plain">,</code></div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">title: </code><code class="string">"His Royal Cuteness"</code><code class="plain">,</code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">updatedByUserId: 905793</code></div><div class="line number5 index4 alt2"><code class="plain">});</code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>and a collection of users like this:</p>
<pre><code class="lang-javascript"><div id="highlighter_961427" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="keyword">var</code> <code class="plain">usersCollection = </code><code class="keyword">new</code> <code class="plain">Backbone.Collection([{</code></div><div class="line number2 index1 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">id: 905793</code></div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">fullName: </code><code class="string">"Jane Doe"</code></div><div class="line number4 index3 alt1"><code class="plain">},{</code></div><div class="line number5 index4 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">...</code></div><div class="line number6 index5 alt1"><code class="plain">}])</code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>To display the user&#39;s full name instead of the id:</p>
<pre><code class="lang-jsx"><div id="highlighter_514938" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">&lt;</code><code class="keyword">ReactDatum.CollectionPicker</code></div><div class="line number2 index1 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="color1">attr</code><code class="plain">=</code><code class="string">"updatedByUserId"</code>&nbsp;&nbsp;</div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">model={kittenModel}</code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">collection={usersCollection}</code></div><div class="line number5 index4 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="color1">displayAttr</code><code class="plain">=</code><code class="string">"fullName"</code><code class="plain">/></code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>In <code>inputMode =&#39;readonly&#39;</code>, the CollectionPicker above will display the fullName from a model in the usersCollection with id matching kittenModel.get(&#39;updatedByUserId&#39;) from usersCollection instance var.   </p>
<p>In <code>inputMode=&#39;edit&#39;</code>, the suggestions would also render the displayAttr because we didn&#39;t specify a suggestionAttr prop</p>
<h4 id="onchange">onChange</h4>
<p>The first parameter passed to the @props.onChange callback will be either one or an array of
option objects of the currently selected options. The option objects have look like,</p>
<pre><code><div id="highlighter_327923" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">label: </code><code class="string">"30 Days until Christmas (Chatties Gifts)"</code></div><div class="line number2 index1 alt1"><code class="plain">model: Event</code></div><div class="line number3 index2 alt2"><code class="plain">value: 206802</code></div></div></td></tr></tbody></table></div>
</code></pre><p>If the <code>multi</code> prop is used, an array of option objects is passed else a single object is passed.</p>
<h4 id="asynchronous-suggestions">Asynchronous suggestions</h4>
<p>Use the asyncLoadCallback prop to load suggestions asynchronously from a server:</p>
<pre><code class="lang-jsx"><div id="highlighter_383798" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">loadData = </code><code class="keyword">function</code><code class="plain">(userInput, doneCallback) {</code></div><div class="line number2 index1 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">usersCollection.fetch({</code></div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">data: {search: userInput}</code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">success: </code><code class="keyword">function</code><code class="plain">(model. response) {</code></div><div class="line number5 index4 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="preprocessor"># doneCallback accepts error and collection, array of models, </code></div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="preprocessor"># or array of {label: "displan name", value: "value"} </code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">doneCallback(</code><code class="keyword">null</code><code class="plain">, usersCollection)</code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number9 index8 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">)</code></div><div class="line number10 index9 alt1"><code class="plain">}</code></div><div class="line number11 index10 alt2"><code class="plain">&lt;</code><code class="keyword">ReactDatum.CollectionPicker</code></div><div class="line number12 index11 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="color1">attr</code><code class="plain">=</code><code class="string">"userId"</code></div><div class="line number13 index12 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="color1">model</code><code class="plain">=</code><code class="string">"myOtherModel"</code></div><div class="line number14 index13 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="color1">collection</code><code class="plain">=</code><code class="string">"usersCollection"</code></div><div class="line number15 index14 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">asyncLoadCallback={loadData} </code></div><div class="line number16 index15 alt1"><code class="plain">/></code></div></div></td></tr></tbody></table></div>
</code></pre>
<h4 id="custom-display">Custom display</h4>
<p>By default the CollectionPicker will display the value of props.model.get(props.displayAttr),
or model.toString() (if it exists and no displayAttr specified).  </p>
<p>You can provide custom rendering via the the <code>optionComponent</code>, <code>valueComponent</code> and 
<code>displayComponent</code> props.  </p>
<p>The optionComponent and valueComponent are passed throught to <a href="http://jedwatson.github.io/react-select/">react-select</a>.  For optionComponent, you are required to handle and pass events back through the props given. Providing a custom option render, is a little longish, but value display is easy. The GravatarOption and GravatarValue components below were taken directly from the  <a href="https://github.com/JedWatson/react-select/blob/master/examples/src/components/CustomComponents.js">react-select CustomComponents example</a></p>
<p>To provide a custom option (suggestion) display:</p>
<pre><code class="lang-jsx"><div id="highlighter_807009" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">const GravatarOption = React.createClass({</code></div><div class="line number2 index1 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">propTypes: {</code></div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">className: React.PropTypes.string,</code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">isDisabled: React.PropTypes.bool,</code></div><div class="line number5 index4 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">isFocused: React.PropTypes.bool,</code></div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">isSelected: React.PropTypes.bool,</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">onSelect: React.PropTypes.func,</code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">onFocus: React.PropTypes.func,</code></div><div class="line number9 index8 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">onUnfocus: React.PropTypes.func,</code></div><div class="line number10 index9 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">option: React.PropTypes.object.isRequired,</code></div><div class="line number11 index10 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">},</code></div><div class="line number12 index11 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">handleMouseDown (event) {</code></div><div class="line number13 index12 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">event.preventDefault();</code></div><div class="line number14 index13 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">event.stopPropagation();</code></div><div class="line number15 index14 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.props.onSelect(</code><code class="keyword">this</code><code class="plain">.props.option, event);</code></div><div class="line number16 index15 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">},</code></div><div class="line number17 index16 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">handleMouseEnter (event) {</code></div><div class="line number18 index17 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.props.onFocus(</code><code class="keyword">this</code><code class="plain">.props.option, event);</code></div><div class="line number19 index18 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">},</code></div><div class="line number20 index19 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">handleMouseMove (event) {</code></div><div class="line number21 index20 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">if</code> <code class="plain">(</code><code class="keyword">this</code><code class="plain">.props.focused) </code><code class="keyword">return</code><code class="plain">;</code></div><div class="line number22 index21 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.props.onFocus(</code><code class="keyword">this</code><code class="plain">.props.option, event);</code></div><div class="line number23 index22 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">},</code></div><div class="line number24 index23 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">handleMouseLeave (event) {</code></div><div class="line number25 index24 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">this</code><code class="plain">.props.onUnfocus(</code><code class="keyword">this</code><code class="plain">.props.option, event);</code></div><div class="line number26 index25 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">},</code></div><div class="line number27 index26 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">render () {</code></div><div class="line number28 index27 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">let gravatarStyle = {</code></div><div class="line number29 index28 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">borderRadius: 3,</code></div><div class="line number30 index29 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">display: </code><code class="string">'inline-block'</code><code class="plain">,</code></div><div class="line number31 index30 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">marginRight: 10,</code></div><div class="line number32 index31 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">position: </code><code class="string">'relative'</code><code class="plain">,</code></div><div class="line number33 index32 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">top: -2,</code></div><div class="line number34 index33 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">verticalAlign: </code><code class="string">'middle'</code><code class="plain">,</code></div><div class="line number35 index34 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">};</code></div><div class="line number36 index35 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">(</code></div><div class="line number37 index36 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">div</code> <code class="plain">className={</code><code class="keyword">this</code><code class="plain">.props.className}</code></div><div class="line number38 index37 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">onMouseDown={</code><code class="keyword">this</code><code class="plain">.handleMouseDown}</code></div><div class="line number39 index38 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">onMouseEnter={</code><code class="keyword">this</code><code class="plain">.handleMouseEnter}</code></div><div class="line number40 index39 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">onMouseMove={</code><code class="keyword">this</code><code class="plain">.handleMouseMove}</code></div><div class="line number41 index40 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">onMouseLeave={</code><code class="keyword">this</code><code class="plain">.handleMouseLeave}</code></div><div class="line number42 index41 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">title={</code><code class="keyword">this</code><code class="plain">.props.option.title}></code></div><div class="line number43 index42 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">Gravatar</code> <code class="plain">email={</code><code class="keyword">this</code><code class="plain">.props.option.email} size={GRAVATAR_SIZE} style={gravatarStyle} /></code></div><div class="line number44 index43 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">{</code><code class="keyword">this</code><code class="plain">.props.children}</code></div><div class="line number45 index44 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">div</code><code class="plain">></code></div><div class="line number46 index45 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">);</code></div><div class="line number47 index46 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number48 index47 alt1"><code class="plain">});</code></div><div class="line number49 index48 alt2">&nbsp;</div><div class="line number50 index49 alt1"><code class="plain">&lt;</code><code class="keyword">CollectionPicker</code></div><div class="line number51 index50 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">model={myModel}</code></div><div class="line number52 index51 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">collection={usersCollection}</code></div><div class="line number53 index52 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">optionComponent={GravatarOption}</code></div><div class="line number54 index53 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="color1">placeholder</code><code class="plain">=</code><code class="string">"Select user"</code></div><div class="line number55 index54 alt2"><code class="plain">/></code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>You can also provide a custom value display for the current value displayed when the input doesn&#39;t
have focus:</p>
<pre><code class="lang-jsx"><div id="highlighter_438834" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">const GravatarValue = React.createClass({</code></div><div class="line number2 index1 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">propTypes: {</code></div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">placeholder: React.PropTypes.string,</code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">value: React.PropTypes.object</code></div><div class="line number5 index4 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">},</code></div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">render () {</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">var</code> <code class="plain">gravatarStyle = {</code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">borderRadius: 3,</code></div><div class="line number9 index8 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">display: </code><code class="string">'inline-block'</code><code class="plain">,</code></div><div class="line number10 index9 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">marginRight: 10,</code></div><div class="line number11 index10 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">position: </code><code class="string">'relative'</code><code class="plain">,</code></div><div class="line number12 index11 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">top: -2,</code></div><div class="line number13 index12 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">verticalAlign: </code><code class="string">'middle'</code><code class="plain">,</code></div><div class="line number14 index13 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">};</code></div><div class="line number15 index14 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">(</code></div><div class="line number16 index15 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">div</code> <code class="color1">className</code><code class="plain">=</code><code class="string">"Select-value"</code> <code class="plain">title={</code><code class="keyword">this</code><code class="plain">.props.value.title}></code></div><div class="line number17 index16 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">span</code> <code class="color1">className</code><code class="plain">=</code><code class="string">"Select-value-label"</code><code class="plain">></code></div><div class="line number18 index17 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">Gravatar</code> <code class="plain">email={</code><code class="keyword">this</code><code class="plain">.props.value.email} size={GRAVATAR_SIZE} style={gravatarStyle} /></code></div><div class="line number19 index18 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">{</code><code class="keyword">this</code><code class="plain">.props.children}</code></div><div class="line number20 index19 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">span</code><code class="plain">></code></div><div class="line number21 index20 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">div</code><code class="plain">></code></div><div class="line number22 index21 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">);</code></div><div class="line number23 index22 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number24 index23 alt1"><code class="plain">});</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1">&nbsp;</div><div class="line number27 index26 alt2"><code class="plain">&lt;</code><code class="keyword">CollectionPicker</code></div><div class="line number28 index27 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">model={myModel}</code></div><div class="line number29 index28 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">collection={usersCollection}</code></div><div class="line number30 index29 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">valueComponent={GravatarValue}</code></div><div class="line number31 index30 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="color1">placeholder</code><code class="plain">=</code><code class="string">"Select user"</code></div><div class="line number32 index31 alt1"><code class="plain">/></code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>Custom display when CollectionPicker is in inputMode=&quot;readonly&quot; is even easier:</p>
<p>TODO:  finish me!</p>
</span></div><div id="CollectionPicker-propTypes"><h4>CollectionPicker propTypes:</h4><div class="classvar-reference"><label>See Also: </label><a href="#Datum-propTypes">Datum.propTypes</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_282109" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor">#&nbsp; TBD: Can also be the string name of a shared collection (see ../sharedCollection.cjsx)</code></div><div class="line number2 index1 alt1"><code class="preprocessor">#&nbsp; TBD: Can also accept an array of [{lable: "option 1", id: 1}, ...]</code></div><div class="line number3 index2 alt2"><code class="preprocessor">#&nbsp; </code></div><div class="line number4 index3 alt1"><code class="preprocessor">#&nbsp; Can also accept collection instance as context var via ReactDatum.Collection component. </code></div><div class="line number5 index4 alt2"><code class="preprocessor">#&nbsp;&nbsp;&nbsp; prop has precendence</code></div><div class="line number6 index5 alt1"><code class="plain">collection: React.PropTypes.oneOfType([</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.instanceOf(Backbone.Collection)</code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.string</code></div><div class="line number9 index8 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.array</code></div><div class="line number10 index9 alt1"><code class="plain">])</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="CollectionPicker-defaultProps"><h4>CollectionPicker defaultProps:</h4><div class="classvar-reference"><label>See Also: </label><a href="#Datum-defaultProps">Datum.defaultProps</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_464732" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">optionSaveAttr: </code><code class="string">'id'</code></div><div class="line number2 index1 alt1"><code class="plain">fetchUnknownModelsInCollection: </code><code class="keyword">true</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="CollectionPicker-contextTypes"><h4>CollectionPicker contextTypes:</h4><div class="classvar-reference"><label>See Also: </label><a href="#Datum-contextTypes">Datum.contextTypes</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_9491" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># see @proptypes.collection above </code></div><div class="line number2 index1 alt1"><code class="plain">collection: React.PropTypes.oneOfType([</code></div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.instanceOf(Backbone.Collection)</code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.string</code></div><div class="line number5 index4 alt2"><code class="plain">])</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div class="methods"><noscript></noscript><div class="instance-methods"><h4>CollectionPicker Instance Methods:</h4><div id="CollectionPicker_onChange" class="method"><h5 class="method-name">onChange(optionsSelected)</h5><div class="markdown no-gutter"><span><p>Extends Datum class - react-select returns array of options and not a synth event
super expects a synth event but only uses value.</p>
<p>Also note that the value passed back to the usage through @props.onChange is
the option object(s) for the currently selected option(s)</p>
</span></div></div><div id="CollectionPicker_filterSuggestionModels" class="method"><h5 class="method-name">filterSuggestionModels(collection, userInput, callback)</h5><div class="markdown no-gutter"><span><p>   weak string compare userInput to suggestion model&#39;s display value </p>
</span></div></div></div></div></div></div><div class="component-doc" id="Datum"><div class="signature">module.exports = class Datum extends React.Component</div><h3>Datum</h3><div class="content"><div class="markdown undefined"><span><p>This is base class of all display+input components that render presentation of an attribute from a Backbone.Model or Javascript object.</p>
<p>There is one required prop, &#39;attr&#39; - the model attribute name.</p>
<p>There are two modes of presentation controlled by the <code>inputMode</code> prop.  All Datums support <code>inputMode=&quot;readonly&quot;</code> - the display presentation of the data; and most support <code>inputMode=&quot;edit&quot;</code> - the input or form presentation of the attribute. The default presentation is <code>inputMode=&quot;readonly&quot;</code> </p>
<p>The backbone model or javascript object to get and set attributes on is specified in the @props.model or @context.model. Note that @props.model always has precendence.</p>
<p>TODO :  More Examples</p>
<p>Display attributes from a Backbone model:</p>
<pre><code class="lang-jsx"><div id="highlighter_249985" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">render: </code><code class="keyword">function</code><code class="plain">(){</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">user = </code><code class="keyword">new</code> <code class="plain">UserModel()</code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">user.fetch()</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="comments">// you don't need to wait for the fetch to complete because we are using</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="comments">// the **Model** contextual data component below which will rerender when</code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="comments">// the model triggers 'sync'</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">(</code></div><div class="line number11 index10 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">Model</code> <code class="plain">model={user}></code></div><div class="line number12 index11 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">Datum</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"firstName"</code> <code class="color1">label</code><code class="plain">=</code><code class="string">"First Name: "</code><code class="plain">/></code></div><div class="line number13 index12 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">Datum</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"firstName"</code> <code class="color1">label</code><code class="plain">=</code><code class="string">"Last Name: "</code><code class="plain">/></code></div><div class="line number14 index13 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">Datum</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"title"</code><code class="plain">/></code></div><div class="line number15 index14 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">Model</code><code class="plain">></code></div><div class="line number16 index15 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">)</code></div><div class="line number17 index16 alt2"><code class="plain">}</code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>Note that for clarity we have provided the <strong>Text</strong> datum which will also ellipsize the display value for you.  You should probably use that instead of using <strong>Datum</strong> directly like the example above.  e.g.</p>
<pre><code><div id="highlighter_227499" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">&lt;</code><code class="keyword">Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"firstName"</code> <code class="color1">label</code><code class="plain">=</code><code class="string">"FirstName"</code><code class="plain">/></code></div></div></td></tr></tbody></table></div>
</code></pre><h4 id="validations">Validations</h4>
<p>Datums support validations.  All validation methods should return either true or an error message.  All datums should support &#39;required&#39; validation prop.</p>
<p>To make a datum required, simply add the required prop to the component.  Ex:</p>
<pre><code><div id="highlighter_772729" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">&lt;</code><code class="keyword">Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"name"</code> <code class="plain">required></code></div></div></td></tr></tbody></table></div>
</code></pre><p>Validations are run at time of change and the datum element will get an invalid class for optional styling.  An exclamation icon is rendered and has a popup that will show all errors for that input.</p>
<h4 id="reactbootstrap">ReactBootstrap</h4>
<p>If ReactBootstrap is available globally, Datum will use that for the ellipsize and validation error popovers.  You can style the popover as you will.  </p>
<h4 id="extending-reactdatum-datum">Extending ReactDatum.Datum</h4>
<p>Datum, and any of it&#39;s descendants, can be extended using either ES6 or Coffeescript inheritance.  The API docs below call out the methods that you will most likely need to override or extend for customization.</p>
<p>TODO : link to examples - 1 ea. coffeescript and es6</p>
</span></div><div id="Datum-propTypes"><h4>Datum propTypes:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_210252" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># additional css classes (space seperated) to add to wrapper div</code></div><div class="line number2 index1 alt1"><code class="plain">className: React.PropTypes.string</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="preprocessor"># can also accept model instance as context var. prop has precendence</code></div><div class="line number5 index4 alt2"><code class="plain">model: React.PropTypes.oneOfType([</code></div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.instanceOf(Backbone.Model)</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.object</code></div><div class="line number8 index7 alt1"><code class="plain">])</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="preprocessor"># the backbone attribute on the model to get and set</code></div><div class="line number11 index10 alt2"><code class="plain">attr: React.PropTypes.string.isRequired</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="plain">label: React.PropTypes.string</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="preprocessor"># set ellipsizeAt to false to display whole value. Only effects 'readonly' display</code></div><div class="line number16 index15 alt1"><code class="preprocessor"># values displayed in 'edit' mode are never truncated.</code></div><div class="line number17 index16 alt2"><code class="plain">ellipsizeAt: React.PropTypes.oneOfType([</code></div><div class="line number18 index17 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.number</code></div><div class="line number19 index18 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.bool</code></div><div class="line number20 index19 alt1"><code class="plain">])</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="Datum-defaultProps"><h4>Datum defaultProps:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_35500" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># ellipsizeAt is defaulted to prevent really long strings from breaking layouts</code></div><div class="line number2 index1 alt1"><code class="plain">ellipsizeAt: 35</code></div><div class="line number3 index2 alt2"><code class="plain">setOnBlur: </code><code class="keyword">true</code></div><div class="line number4 index3 alt1"><code class="plain">reverseEllipsis: </code><code class="keyword">false</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="Datum-contextTypes"><h4>Datum contextTypes:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_977593" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># can also accept model instance as a prop.&nbsp; prop has precendence</code></div><div class="line number2 index1 alt1"><code class="plain">model: React.PropTypes.oneOfType([</code></div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.instanceOf(Backbone.Model)</code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.object</code></div><div class="line number5 index4 alt2"><code class="plain">])</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="preprocessor"># note that the readonly prop takes precendence</code></div><div class="line number8 index7 alt1"><code class="plain">inputMode: React.PropTypes.oneOf([</code><code class="string">'readonly'</code><code class="plain">, </code><code class="string">'edit'</code><code class="plain">, </code><code class="string">'inlineEdit'</code><code class="plain">])</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="preprocessor"># if there is a form context, we will register with it so that it can</code></div><div class="line number11 index10 alt2"><code class="preprocessor"># interact with us</code></div><div class="line number12 index11 alt1"><code class="plain">form: React.PropTypes.object</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div class="methods"><noscript></noscript><div class="instance-methods"><h4>Datum Instance Methods:</h4><div id="Datum_renderWrappedDisplayValue" class="method"><h5 class="method-name">renderWrappedDisplayValue(value)</h5><div class="markdown no-gutter"><span><p>In most cases, this is the method you want to override in a custom datum to
alter the way the model attribute is displayed when inputMode=&#39;readonly&#39;</p>
<p>This method is only called if the model value is not null.</p>
</span></div></div><div id="Datum_renderEllipsizedValue" class="method"><h5 class="method-name">renderEllipsizedValue(value, options={}) </h5><div class="markdown no-gutter"><span><p>Note that this method is not called by Datum directly.  It is
provided here so that any Datum extensions can ellipsize whatever
part of their rendering neccessary and have a consistent prop and
method for doing so.</p>
</span></div></div><div id="Datum_isDirty" class="method"><h5 class="method-name">isDirty() </h5><div class="markdown no-gutter"><span><p>In most cases this is the method you want to override to alter the presentation of the datum when
inputMode=&#39;edit&#39;.</p>
<p>If you override this method, be sure to add @onBlur() and @onChange() to your input
component
This method can be overriden to provide custom determination of dirty state.
dirty meaning, has the input value changed.  The base implementation assumes
that the base behavior of setting state.value to null on model.set() happens.</p>
</span></div></div><div id="Datum_addValidations" class="method"><h5 class="method-name">addValidations(validations)</h5><div class="markdown no-gutter"><span><p>When extending Datum, use @addValidations from constructor to add additional validations.
&#39;required&#39; validation is automatically added (only invalid if empty and has &#39;required&#39; prop)</p>
<p>For example, see <a href="#Number">Number datum</a></p>
<p>You can add validations to an individual instance of any Datum extension.</p>
<p><code>validations</code> argument should be one or an array of methods that accept the (value) to
validate and return true if valid, false if not.</p>
</span></div></div><div id="Datum_getValueForDisplay" class="method"><h5 class="method-name">getValueForDisplay() </h5><div class="markdown no-gutter"><span><p>This method should return the value for display from the model. You
can extend this method in a custom Datum to coerce or manipulate just
the value used for display.</p>
<p>In most cases, you&#39;ll probably want to extend the Datum.renderValueForDisplay()
instead</p>
</span></div></div><div id="Datum_getValueForInput" class="method"><h5 class="method-name">getValueForInput() </h5><div class="markdown no-gutter"><span><p>Extend this method to coerce or intepret the value from the model
that is displayed when in input</p>
</span></div></div><div id="Datum_getInputValue" class="method"><h5 class="method-name">getInputValue() </h5><div class="markdown no-gutter"><span><p>this method returns the value in the input as seen by user</p>
</span></div></div><div id="Datum_getModel" class="method"><h5 class="method-name">getModel(newProps = props, newContext = context)</h5><div class="markdown no-gutter"><span><p>returns the Backbone Model currently associated with the datum.</p>
</span></div></div><div id="Datum_getModelValue" class="method"><h5 class="method-name">getModelValue(newProps = props, newContext = context)</h5><div class="markdown no-gutter"><span><p>returns the value currently set on the model</p>
<p>warning: Do not override this method to return a component element or jsx; bad things will happen.</p>
</span></div></div><div id="Datum_setModelValue" class="method"><h5 class="method-name">setModelValue(value=getInputValue(), options={}) </h5><div class="markdown no-gutter"><span><p>Extend this model to interpret the value prior to saving for example a Percent datum
that the user enters a value that is 100x what gets saved to model</p>
<p>options pass through to model.set()</p>
</span></div></div><div id="Datum_getInputComponent" class="method"><h5 class="method-name">getInputComponent()</h5><div class="markdown no-gutter"><span><p>This method can be used to get at the inner input component if one exists, only
while inputMode==&#39;edit&#39;</p>
</span></div></div><div id="Datum_validate" class="method"><h5 class="method-name">validate(value=getValueForInput())</h5><div class="markdown no-gutter"><span><p>This method is called to validate the value in the input.</p>
<p>Note that validations such as props.required also need to apply if the user
hasn&#39;t changed the input, so the default value is the coalesce of state.value
or model value.  state.value (see getInputValue()) is null if the user has
not made changes.</p>
</span></div></div></div></div></div></div><div class="component-doc" id="Email"><div class="signature">module.exports = class Email extends Datum</div><h3>Email</h3><div class="content"><div class="markdown undefined"><span><p>For rendering and input of email addresses.  Can render mailto: links like
<code>&lt;a href=&quot;mailto:&quot;&gt;</code> in display mode</p>
<p>Validates that email address is a semi valid email based on matching
<code>/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/</code></p>
</span></div><div id="Email-propTypes"><h4>Email propTypes:</h4><div class="classvar-reference"><label>See Also: </label><a href="#Datum-propTypes">Datum.propTypes</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_864401" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># If true, display as mailto address link when `inputMode='readonly'`</code></div><div class="line number2 index1 alt1"><code class="plain">displayAsLink: React.PropTypes.bool</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><noscript></noscript><noscript></noscript><div class="methods"><noscript></noscript><noscript></noscript></div></div></div><div class="component-doc" id="LazyPhoto"><div class="signature">module.exports = class LazyPhoto extends Datum</div><h3>LazyPhoto</h3><div class="content"><div class="markdown undefined"><span><p>This is a lazy loading image.</p>
<p>To prevent a page heavily loaded with images preventing other content from loading, a small
blank image is downloaded and rendered first and then onLoad the real image src is used and
rerender.</p>
<p>On error a notFoundUrl is set as the image src to prevent broken image display.</p>
<p>The model attribute specified in @props.attr should return a fully qualified
url.  The image is only rendered if it&#39;s visible and in view. Otherwise the placeholder
image is rendered.</p>
</span></div><noscript></noscript><noscript></noscript><noscript></noscript><div class="methods"><noscript></noscript><noscript></noscript></div></div></div><div class="component-doc" id="Link"><div class="signature">module.exports = class Link extends Datum</div><h3>Link</h3><div class="content"><div class="markdown undefined"><span><p>For rendering links like <code>&lt;a href=&quot;...&quot;&gt;</code>.</p>
<p>Example: </p>
<pre><code class="lang-jsx"><div id="highlighter_313344" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="keyword">var</code> <code class="plain">model = </code><code class="keyword">new</code> <code class="plain">Backbone.Model({</code></div><div class="line number2 index1 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">url: </code><code class="string">"<a href="http://www.zulily.com">http://www.zulily.com</a>"</code><code class="plain">, </code></div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">name: </code><code class="string">"Zulily"</code></div><div class="line number4 index3 alt1"><code class="plain">})</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="plain">&lt;</code><code class="keyword">ReactDatum.Link</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"url"</code> <code class="color1">nameAttr</code><code class="plain">=</code><code class="string">"name"</code><code class="plain">/></code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>The &#39;attr&#39; prop should return a url from the model and is the href of the link.</p>
<p>Optionally, a &#39;nameAttr&#39; prop can also be specified to display between the <a></a> tags.  If &#39;nameAttr&#39; prop is not specified, the children of the link are rendered:</p>
<pre><code class="lang-jsx"><div id="highlighter_744199" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="comments">// we use an alias to minimize the noise in the JSX below</code></div><div class="line number2 index1 alt1"><code class="keyword">var</code> <code class="plain">Rd = ReactDatum;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="comments">// ... and later ...</code></div><div class="line number5 index4 alt2"><code class="plain">&lt;</code><code class="keyword">Rd.Link</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"url"</code><code class="plain">>Go to &lt;</code><code class="keyword">Rd.Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"name"</code><code class="plain">/> and discover somthing today!&lt;/</code><code class="keyword">Rd.Link</code><code class="plain">></code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>In this example the link would enclose the rendered contents: &quot;Go to Zulily and ...&quot;</p>
<p>If no nameAttr prop and no children, ReactDatum.Link will render the value of the attr specified (what should be the url of the href):</p>
<pre><code class="lang-jsx"><div id="highlighter_767021" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">&lt;</code><code class="keyword">Rd.Link</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"url"</code><code class="plain">/></code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>renders <code>&lt;a href=&quot;http://www.zulily.com&quot;&gt;http://www.zulily.com&lt;/a&gt;</code>  </p>
<p>see ./link.md</p>
</span></div><div id="Link-propTypes"><h4>Link propTypes:</h4><div class="classvar-reference"><label>See Also: </label><a href="#Datum-propTypes">Datum.propTypes</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_459041" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># attribute on model to display as the &lt;a> content. if null ReactDatum.Link will </code></div><div class="line number2 index1 alt1"><code class="preprocessor"># render the children enclosed in an &lt;a>&lt;/a></code></div><div class="line number3 index2 alt2"><code class="plain">nameAttr: React.PropTypes.string</code></div><div class="line number4 index3 alt1"><code class="preprocessor"># passed to &lt;a> as the target</code></div><div class="line number5 index4 alt2"><code class="plain">target: React.PropTypes.string</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="Link-defaultProps"><h4>Link defaultProps:</h4><div class="classvar-reference"><label>See Also: </label><a href="#Datum-defaultProps">Datum.defaultProps</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_524651" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">target: </code><code class="string">'_blank'</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><noscript></noscript><div class="methods"><noscript></noscript><noscript></noscript></div></div></div><div class="component-doc" id="Number"><div class="signature">module.exports = class Number extends Datum</div><h3>Number</h3><div class="content"><div class="markdown undefined"><span><p>For real numbers.</p>
<p>Only allows <code>/^\-?[0-9]*\.?[0-9]*$/</code> on input</p>
</span></div><div id="Number-propTypes"><h4>Number propTypes:</h4><div class="classvar-reference"><label>See Also: </label><a href="#Datum-propTypes">Datum.propTypes</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_438579" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># format only effects display, not input.&nbsp; Possible values:</code></div><div class="line number2 index1 alt1"><code class="preprocessor">#</code></div><div class="line number3 index2 alt2"><code class="preprocessor"># 'abbreviate' - Add M and K to numbers greater than 1 million and 1 thousand respectively</code></div><div class="line number4 index3 alt1"><code class="preprocessor"># 'money' - display dollar sign and two decimal places zero filled</code></div><div class="line number5 index4 alt2"><code class="preprocessor"># 'comma' - add comma separators at thousands</code></div><div class="line number6 index5 alt1"><code class="preprocessor"># 'percent' - multiply by 100 and postfix '%'</code></div><div class="line number7 index6 alt2"><code class="preprocessor">#</code></div><div class="line number8 index7 alt1"><code class="preprocessor"># can be an array of formats or a single string format</code></div><div class="line number9 index8 alt2"><code class="plain">format: React.PropTypes.oneOfType [</code></div><div class="line number10 index9 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.array</code></div><div class="line number11 index10 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.string</code></div><div class="line number12 index11 alt1"><code class="plain">]</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="preprocessor"># rounds value to n decimal places</code></div><div class="line number15 index14 alt2"><code class="plain">decimalPlaces: React.PropTypes.number</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="preprocessor"># if decimalPlaces, zeroFill={true} will round out to n places </code></div><div class="line number18 index17 alt1"><code class="plain">zeroFill: React.PropTypes.bool</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="preprocessor"># when input, validate value is at least this value on change</code></div><div class="line number21 index20 alt2"><code class="plain">minValue: React.PropTypes.number</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="preprocessor"># when input, validate value is at most this value on change</code></div><div class="line number24 index23 alt1"><code class="plain">maxValue: React.PropTypes.number</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="Number-defaultProps"><h4>Number defaultProps:</h4><div class="classvar-reference"><label>See Also: </label><a href="#Datum-defaultProps">Datum.defaultProps</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_527454" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># Exceptional case: when format='money' is used without format='abbreviate',</code></div><div class="line number2 index1 alt1"><code class="preprocessor"># this defaults to 2</code></div><div class="line number3 index2 alt2"><code class="plain">decimalPlaces: </code><code class="keyword">null</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="preprocessor"># Exceptional case: when format='money' is used without format='abbreviate',</code></div><div class="line number6 index5 alt1"><code class="preprocessor"># this defaults to 2, you can however change the money behavior by explicitly</code></div><div class="line number7 index6 alt2"><code class="preprocessor"># setting zerofill to false</code></div><div class="line number8 index7 alt1"><code class="plain">zeroFill: </code><code class="keyword">null</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="preprocessor"># This might be controversial, but our standard here at the zoo is to always use</code></div><div class="line number11 index10 alt2"><code class="preprocessor"># thousand ticks</code></div><div class="line number12 index11 alt1"><code class="plain">format: [</code><code class="string">'comma'</code><code class="plain">]</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><noscript></noscript><div class="methods"><div class="class-methods"><h4>Number Class Methods:</h4><div id="Number_safelyFloat" class="method"><h5 class="method-name">safelyFloat(value) </h5><div class="markdown no-gutter"><span><p>fail proof conversion from sting to float that will never return NaN</p>
</span></div></div></div><div class="instance-methods"><h4>Number Instance Methods:</h4><div id="Number_getValueForInput" class="method"><h5 class="method-name">getValueForInput() </h5><div class="markdown no-gutter"><span><p>overrides super - adds formatting</p>
</span></div></div><div id="Number_roundToDecimalPlaces" class="method"><h5 class="method-name">roundToDecimalPlaces(value, options={}) </h5><div class="markdown no-gutter"><span><p>returns a string with number value input rounded to user requested props.decimalPlaces
and optionally zeroFilled if @props.zeroFill == true
note that &#39;money&#39;, when not &#39;abbreviate&#39;d should zero fill out to two decimal places
unless props indicate otherwise</p>
</span></div></div><div id="Number_abbreviate" class="method"><h5 class="method-name">abbreviate(value, formats=getFormats()) </h5><div class="markdown no-gutter"><span><p>returns a string with number value abbreviated and rounded to user
requested props.decimalPlaces</p>
</span></div></div></div></div></div></div><div class="component-doc" id="Percent"><div class="signature">module.exports = class Percent extends Number</div><h3>Percent</h3><div class="content"><div class="markdown undefined"><span><p>This datum is an extension of <a href="http://zulily.github.io/react-datum/docs/api/#Number">ReactDatum.Number</a> for
display and input of percent values.</p>
<ul>
<li>Display value is affixed with &#39;%&#39;</li>
<li>Display and input value are model value * 100 (model value is assumed to be
fractional value)</li>
<li>User input is assumed to be number percentage (* 100)</li>
<li>props.decimalPlaces is respected for both display and input</li>
</ul>
<p>Number datum has (maybe use to have) a format called  &#39;percent&#39; that will also
do a little part of what Percent datum does.  The Percent datum is meant to
supercede &#39;percent&#39; format to Number datum.</p>
</span></div><noscript></noscript><noscript></noscript><noscript></noscript><div class="methods"><noscript></noscript><div class="instance-methods"><h4>Percent Instance Methods:</h4><div id="Percent_getModelValue" class="method"><h5 class="method-name">getModelValue() </h5><div class="markdown no-gutter"><span><p>Model value returned is multiplied by 100.  Internal value for Percent
is always the whole number displayed percentage rounded to requested
decimal places.</p>
</span></div></div><div id="Percent_setModelValue" class="method"><h5 class="method-name">setModelValue(value=getInputValue(), options={}) </h5><div class="markdown no-gutter"><span><p>What get&#39;s saved to the model is the user entered value divided by 100</p>
</span></div></div><div id="Percent_getFormats" class="method"><h5 class="method-name">getFormats() </h5><div class="markdown no-gutter"><span><p>Other formats like &#39;money&#39; and &#39;abbreviate&#39; are ignored.  Override react-datum.Money</p>
</span></div></div></div></div></div></div><div class="component-doc" id="Text"><div class="signature">module.exports = class Text extends Datum</div><h3>Text</h3><div class="content"><div class="markdown undefined"><span><p>This react-datum component is for the presentation of text. See also ReactDatum.Datum. The Datum base class does much of the work by default of handling text. </p>
<p>Text Component provides the following additional features:</p>
<ul>
<li>Display values can be ellipsized via ellipsizeAt prop.  </li>
<li>Values are ellipsized by default to prevent unexpected long strings from breaking your layout</li>
<li>Can display HTML via the displayAsHtml prop</li>
</ul>
<p><strong>A note about using displayAsHtml</strong></p>
<p>It&#39;s not advised unless you are sure as to the sanity of the data value you are displaying.  The danger is in cross site scripting attacks.  Read more <a href="https://facebook.github.io/react/tips/dangerously-set-inner-html.html">here</a>.</p>
<p>Also note that using <code>displayAsHtml</code> and anything other than <code>ellipsizeAt={false}</code> is not advised as you may end up ellipsizing in the middle of an element and leave unclosed tags or, worse, break your entire layout. </p>
<p>For example, given this model:</p>
<pre><code class="lang-jsx"><div id="highlighter_54286" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">model = </code><code class="keyword">new</code> <code class="plain">Backbone.model({name=</code><code class="string">"Foo Bar"</code><code class="plain">, description=</code><code class="string">"Lorem ipsum &lt;b>dolor sit amet&lt;/b>, consectetur adipiscing elit. Duis rhoncus lacinia lectus a volutpat. this could go on forever"</code><code class="plain">});</code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>this will render the description truncated with ellipsis to not exceed 35 total characters:</p>
<pre><code><div id="highlighter_732613" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">&lt;</code><code class="keyword">ReactDatum.Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"description"</code><code class="plain">></code></div></div></td></tr></tbody></table></div>
</code></pre><p>this will render the description at it&#39;s full length:</p>
<pre><code><div id="highlighter_882729" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">&lt;</code><code class="keyword">ReactDatum.Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"description"</code> <code class="plain">ellipsizeAt={</code><code class="keyword">false</code><code class="plain">}></code></div></div></td></tr></tbody></table></div>
</code></pre><p>this will render the description with &quot;dolor sit amet&quot; in bold:</p>
<pre><code><div id="highlighter_660226" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">&lt;</code><code class="keyword">ReactDatum.Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"description"</code> <code class="plain">displayAsHtml ellipsizeAt={</code><code class="keyword">false</code><code class="plain">}></code></div></div></td></tr></tbody></table></div>
</code></pre><p>see ./text.md</p>
</span></div><div id="Text-propTypes"><h4>Text propTypes:</h4><div class="classvar-reference"><label>See Also: </label><a href="#Datum-propTypes">Datum.propTypes</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_960507" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># set to true if rendering known, safe, html.&nbsp; see <a href="https://facebook.github.io/react/tips/dangerously-set-inner-html.html.">https://facebook.github.io/react/tips/dangerously-set-inner-html.html.</a> </code></div><div class="line number2 index1 alt1"><code class="plain">displayAsHtml: React.PropTypes.bool</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="preprocessor"># set ellipsizeAt to false to display whole value. Only effects 'readonly' display</code></div><div class="line number5 index4 alt2"><code class="preprocessor"># values displayed in 'edit' mode are never truncated.</code></div><div class="line number6 index5 alt1"><code class="plain">ellipsizeAt: React.PropTypes.oneOfType([</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.number</code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.bool</code></div><div class="line number9 index8 alt2"><code class="plain">])</code></div><div class="line number10 index9 alt1"><code class="preprocessor"># If we want the ellipsis to be like ...Long Name we need to make this true</code></div><div class="line number11 index10 alt2"><code class="plain">reverseEllipsis: React.PropTypes.bool</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="Text-defaultProps"><h4>Text defaultProps:</h4><div class="classvar-reference"><label>See Also: </label><a href="#Datum-defaultProps">Datum.defaultProps</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_906388" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># ellipsizeAt is defaulted to prevent really long strings from breaking layouts</code></div><div class="line number2 index1 alt1"><code class="plain">ellipsizeAt: 35</code></div><div class="line number3 index2 alt2"><code class="plain">reverseEllipsis: </code><code class="keyword">false</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><noscript></noscript><div class="methods"><noscript></noscript><noscript></noscript></div></div></div><div class="component-doc" id="WholeNumber"><div class="signature">module.exports = class WholeNumber extends Number</div><h3>WholeNumber</h3><div class="content"><div class="markdown undefined"><span><p>For whole numbers (no decimal input allowed).</p>
</span></div><noscript></noscript><noscript></noscript><noscript></noscript><div class="methods"><noscript></noscript><noscript></noscript></div></div></div></section><section><h2>Contextual Components</h2><div class="component-doc" id="ClickToEditForm"><div class="signature">module.exports = class ClickToEditForm extends Form</div><h3>ClickToEditForm</h3><div class="content"><div class="markdown undefined"><span><p>This component is an extension of <strong>Form</strong> that initially presents an
&quot;Edit&quot; button that the user can click to switch between display and input.</p>
<p><strong>Datum</strong> children are initialized readonly, when the user clicks edit, the
&#39;inputMode&#39; context variable is set to &#39;edit&#39; and all children are rerendered.</p>
<p>See react-datum <strong>Form</strong> component for more props.  All <strong>Form</strong> properties are
supported by <strong>ClickToEditForm</strong></p>
<p>Note that the readonly prop is observed.  If @props.readonly == true then the
edit button will not render and the form acts like a static container.  This
is for programatic setting of the form to readonly</p>
</span></div><noscript></noscript><noscript></noscript><noscript></noscript><div class="methods"><noscript></noscript><noscript></noscript></div></div></div><div class="component-doc" id="Collection"><div class="signature">module.exports = class Collection extends ContextualData</div><h3>Collection</h3><div class="content"><div class="markdown undefined"><span><p>This react-datum component provides datums with a Backbone collection and rerenders descendants on collection changes.  </p>
<ul>
<li>provides a collection context to all children</li>
<li>rerenders children on collection changes</li>
<li>adds SelectableCollection mixin to collection if it doesn&#39;t already have it</li>
<li>will optionally fetch the collection</li>
<li>can accept either a Collection class (which will be instantiated) or a
collection instance variable to another collection or Collection component</li>
</ul>
<p>Any descendant datum or react-datum based components like (ReactDatum.TileGrid)[TODO: add a link do doc page], or the (ReactDatum.SelectedModel)[TODO: add link to doc page] that accept a <code>collection</code> context or prop, can be wrapped in a ReactDatum.Collection component and will respond to changes in the collection.  </p>
<p>Simple example:</p>
<pre><code class="lang-jsx"><div id="highlighter_427793" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="keyword">var</code> <code class="plain">Rd = ReactDatum;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="plain">&lt;</code><code class="keyword">Rd.Collection</code> <code class="plain">collection={myBackboneCollection}></code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">Rd.SelectedModel</code> <code class="color1">placeholder</code><code class="plain">=</code><code class="string">"Wait for it..."</code><code class="plain">></code></div><div class="line number5 index4 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">Rd.Text</code> <code class="color1">label</code><code class="plain">=</code><code class="string">"You selected: "</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"name"</code><code class="plain">/></code></div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">Rd.SelectedModel</code><code class="plain">></code></div><div class="line number7 index6 alt2"><code class="plain">&lt;/</code><code class="keyword">Rd</code><code class="plain">></code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="keyword">var</code> <code class="plain">index = 0;</code></div><div class="line number10 index9 alt1"><code class="plain">setInterval(</code><code class="keyword">function</code><code class="plain">(){</code></div><div class="line number11 index10 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">myBackboneCollection.selectModelByIndex(index);</code></div><div class="line number12 index11 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">index += 1;</code></div><div class="line number13 index12 alt2"><code class="plain">}, 5000)</code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>The (example above)[TODO: add link to github.io example] when run, will initially display a placeholder, &quot;Wait for it...&quot; and then every five seconds select a new model. See (SelectedModel)[TODO: add link to doc page] for more information about selections.</p>
<h4 id="adds-selection-tracking-to-collection">Adds selection tracking to collection</h4>
<p>In order for the components such as ReactDatum.Tilegrid and ReactDatum.SelectedModel to have a common understanding of what is selected,  a small mixin called SelectableCollection is added to the collection, unless the collection has an instance variable hasSelectableCollectionMixin=<code>true</code>. </p>
<p>Once used with the ReactDatum.Collection component, your Backbone collection instance will be given the following methods:</p>
<ul>
<li><code>getSelectedModels()</code>  returns array of currently selected models</li>
<li><code>selectModel(model, selected=true, options={})</code>  selects the model. default options: {silent: false}</li>
<li><code>selectModelById(id, selected=true, options={})</code>  see selectModel()</li>
<li><code>selectModelByIndex(index, selected=true, options={})</code>  see selectModel()</li>
<li><code>selectAll(options={})</code> default options: {silent: false}</li>
<li><code>selectNone(options{})</code> default options: {silent: false}</li>
</ul>
<p>A console warning will be issued if any of the methods above already exist on a collection without this.hasSelectableCollectionMixin==true.   </p>
<p>If you use another mixin or service for this, it should be relatively easy to build a bridge. Just add the methods above to your collection and call the existing plugin, mixin or external methods.</p>
</span></div><div id="Collection-propTypes"><h4>Collection propTypes:</h4><div class="classvar-reference"><label>See Also: </label><a href="#ContextualData-propTypes">ContextualData.propTypes</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_125501" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># can only accept collection via prop.&nbsp; Collection component should</code></div><div class="line number2 index1 alt1"><code class="preprocessor"># not interfere with any parent Collection commponent or other that</code></div><div class="line number3 index2 alt2"><code class="preprocessor"># would provide a collection context, but it will become the provider</code></div><div class="line number4 index3 alt1"><code class="preprocessor"># of collection context for all of it's children</code></div><div class="line number5 index4 alt2"><code class="plain">collection: React.PropTypes.oneOfType([</code></div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.instanceOf(Backbone.Collection)</code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.func</code></div><div class="line number8 index7 alt1"><code class="plain">]).isRequired</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><noscript></noscript><noscript></noscript><div class="methods"><noscript></noscript><noscript></noscript></div></div></div><div class="component-doc" id="CollectionStats"><div class="signature">module.exports = class CollectionStats extends React.Component</div><h3>CollectionStats</h3><div class="content"><div class="markdown undefined"><span><ul>
<li><p>provides information about the items in your collection.</p>
<p>Requires either a &#39;collection&#39; context or prop.  And displays counts of
items found, selected and viewing.</p>
</li>
</ul>
</span></div><div id="CollectionStats-propTypes"><h4>CollectionStats propTypes:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_671405" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># a Backbone.Collection</code></div><div class="line number2 index1 alt1"><code class="plain">collection: React.PropTypes.instanceOf(Backbone.Collection)</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="CollectionStats-defaultProps"><h4>CollectionStats defaultProps:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_412172" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">itemDisplayName: </code><code class="string">"item"</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="CollectionStats-contextTypes"><h4>CollectionStats contextTypes:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_617210" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">collection: React.PropTypes.instanceOf(Backbone.Collection)</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div class="methods"><noscript></noscript><noscript></noscript></div></div></div><div class="component-doc" id="ContextualData"><div class="signature">module.exports = class ContextualData extends React.Component</div><h3>ContextualData</h3><div class="content"><div class="markdown undefined"><span><p>This is an abstract base class for contextual data components like ReactDatum.Collection
and ReactDatum.Model that provide a single contextual data element.</p>
<p>The ReactDatum.ContextualData base class also provides the listener to model or collection
events and rendering of child components on changes.</p>
<p>You shouldn&#39;t need to use this class directly.</p>
</span></div><div id="ContextualData-propTypes"><h4>ContextualData propTypes:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_279138" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># set this to true to issue the initial fetch of the collection on mount</code></div><div class="line number2 index1 alt1"><code class="plain">fetch: React.PropTypes.bool</code></div><div class="line number3 index2 alt2"><code class="preprocessor"># passed through to collection|model fetch</code></div><div class="line number4 index3 alt1"><code class="plain">fetchOptions: React.PropTypes.object</code></div><div class="line number5 index4 alt2"><code class="preprocessor"># something to render if our input model|collection is not available</code></div><div class="line number6 index5 alt1"><code class="plain">placeholder: React.PropTypes.node</code>&nbsp; <code class="preprocessor"># anything react can render</code></div><div class="line number7 index6 alt2"><code class="preprocessor"># additional css classes to add</code></div><div class="line number8 index7 alt1"><code class="plain">className: React.PropTypes.string</code></div><div class="line number9 index8 alt2"><code class="preprocessor"># set debouncedUpdate = false to not debounce, i.e. 1:1 collection or</code></div><div class="line number10 index9 alt1"><code class="preprocessor"># model triggered events to renders. </code></div><div class="line number11 index10 alt2"><code class="plain">debouncedUpdate: React.PropTypes.bool</code></div><div class="line number12 index11 alt1"><code class="preprocessor"># set debounceMs to a higher delay. </code></div><div class="line number13 index12 alt2"><code class="plain">debounceMs: React.PropTypes.number</code></div><div class="line number14 index13 alt1"><code class="preprocessor"># set to true to show console messages about useful things</code></div><div class="line number15 index14 alt2"><code class="plain">debug: React.PropTypes.bool</code></div><div class="line number16 index15 alt1"><code class="preprocessor"># style override object for the rendered div.</code></div><div class="line number17 index16 alt2"><code class="plain">style: React.PropTypes.object</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="ContextualData-defaultProps"><h4>ContextualData defaultProps:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_866190" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># when true, we will automatically fetch the model or collection on mount</code></div><div class="line number2 index1 alt1"><code class="plain">fetch: </code><code class="keyword">false</code></div><div class="line number3 index2 alt2"><code class="preprocessor"># additional fetch options (see Backbone Collection|Model fetch() options)</code></div><div class="line number4 index3 alt1"><code class="plain">fetchOptions: {}</code></div><div class="line number5 index4 alt2"><code class="preprocessor"># We don't define placeholder, that's up to our subclass. with </code></div><div class="line number6 index5 alt1"><code class="preprocessor"># `placeholder: undefined` by default, there is no placeholder,</code></div><div class="line number7 index6 alt2"><code class="preprocessor"># the renderContent method will always render children.&nbsp; </code></div><div class="line number8 index7 alt1"><code class="preprocessor"># To render no placeholder but not render children, set this to null</code></div><div class="line number9 index8 alt2"><code class="plain">placeholder: undefined</code></div><div class="line number10 index9 alt1"><code class="preprocessor"># We do not define any default style data.</code></div><div class="line number11 index10 alt2"><code class="plain">style: {}</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="preprocessor"># effectively batch and defer multiple syncronous events into one defaults to zero </code></div><div class="line number14 index13 alt1"><code class="preprocessor"># second debounce which will effectively ignore all but the last triggered event</code></div><div class="line number15 index14 alt2"><code class="preprocessor"># in a long sequence</code></div><div class="line number16 index15 alt1"><code class="plain">debouncedUpdate: </code><code class="keyword">true</code></div><div class="line number17 index16 alt2"><code class="plain">debounceMs: 0</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><noscript></noscript><div class="methods"><noscript></noscript><div class="instance-methods"><h4>ContextualData Instance Methods:</h4><div id="ContextualData_constructor" class="method"><h5 class="method-name">constructor(props) </h5><div class="markdown no-gutter"><span><p>This is the class of thing being placed in the context.
ex. <code>Backbone.Model</code> or <code>Backbone.Collection</code>
this is the key in @context children should use to access thing
ex. &quot;model&quot;</p>
</span></div></div><div id="ContextualData_fetchCollectionOrModel" class="method"><h5 class="method-name">fetchCollectionOrModel() </h5><div class="markdown no-gutter"><span><p>override this model to do a custom fetch method like fetchForUser or some such</p>
</span></div></div><div id="ContextualData_initializeCollectionOrModel" class="method"><h5 class="method-name">initializeCollectionOrModel() </h5><div class="markdown no-gutter"><span><p>extend this method to provide additional initialization on the
thing you provide.  You should probably call super</p>
</span></div></div><div id="ContextualData_getInputCollectionOrModel" class="method"><h5 class="method-name">getInputCollectionOrModel() </h5><div class="markdown no-gutter"><span><p>override this method to input from somewhere other than the context or props being passed in</p>
</span></div></div><div id="ContextualData_getCollectionOrModelToProvide" class="method"><h5 class="method-name">getCollectionOrModelToProvide() </h5><div class="markdown no-gutter"><span><p>override or extend this method to provide something other than what we recieve</p>
</span></div></div><div id="ContextualData_needsReinitializing" class="method"><h5 class="method-name">needsReinitializing() </h5><div class="markdown no-gutter"><span><p>extend this method to provide additional tests to determine if initialization is
needed.  You should probably extend this method like so:</p>
<pre><code><div id="highlighter_309763" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="keyword">return</code> <code class="keyword">super</code><code class="plain">() || </code><code class="keyword">this</code><code class="plain">._someOtherTest()</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div></div></div></div></div><div class="component-doc" id="Form"><div class="signature">module.exports = class Form extends React.Component</div><h3>Form</h3><div class="content"><div class="markdown undefined"><span><p>This contextual component provides a form context to all of the datums within.  </p>
<p>Adding the <strong>ReactDatum.Form</strong> component, you can easily convert a group of datums into an editable form with save and cancel buttons.  By default, when children of a Form component all datums will render in their input presentation <code>inputMode=&#39;edit&#39;</code>.</p>
<p><img alt="Screenshot from doc/examples/form/form.html" src="https://gitlab.corp.zulily.com/bwilkerson/react-datum/raw/master/img/react-datum_form-example.png" align="right"/></p>
<pre><code class="lang-javascript"><div id="highlighter_92423" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="keyword">var</code> <code class="plain">kittenCard = React.createClass({</code></div><div class="line number2 index1 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">displayName:</code><code class="string">"KittenCard"</code><code class="plain">,</code></div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">render: </code><code class="keyword">function</code><code class="plain">(){</code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="keyword">return</code> <code class="plain">(</code></div><div class="line number5 index4 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">div</code> <code class="color1">className</code><code class="plain">=</code><code class="string">'kitten-card'</code><code class="plain">></code></div><div class="line number6 index5 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">ReactDatum.Model</code> <code class="plain">model={kittenModel}></code></div><div class="line number7 index6 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">h3</code><code class="plain">>Adopt &lt;</code><code class="keyword">ReactDatum.Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"name"</code><code class="plain">/> Today!&lt;/</code><code class="keyword">h3</code><code class="plain">></code></div><div class="line number8 index7 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">ReactDatum.Form</code><code class="plain">></code></div><div class="line number9 index8 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">div</code><code class="plain">>&lt;</code><code class="keyword">ReactDatum.LazyPhoto</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"imgUrl"</code><code class="plain">/>&lt;/</code><code class="keyword">div</code><code class="plain">></code></div><div class="line number10 index9 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">div</code><code class="plain">>&lt;</code><code class="keyword">ReactDatum.Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"name"</code> <code class="color1">label</code><code class="plain">=</code><code class="string">"Name"</code> <code class="plain">setOnChange/> (&lt;</code><code class="keyword">ReactDatum.Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"title"</code><code class="plain">/>)&lt;/</code><code class="keyword">div</code><code class="plain">></code></div><div class="line number11 index10 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">label</code><code class="plain">>Say something about &lt;</code><code class="keyword">ReactDatum.Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"name"</code> <code class="plain">readonly/>: &lt;/</code><code class="keyword">label</code><code class="plain">></code></div><div class="line number12 index11 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">div</code><code class="plain">>&lt;</code><code class="keyword">ReactDatum.Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"description"</code> <code class="color1">className</code><code class="plain">=</code><code class="string">"wide-input"</code><code class="plain">/>&lt;/</code><code class="keyword">div</code><code class="plain">></code></div><div class="line number13 index12 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">div</code><code class="plain">>&lt;</code><code class="keyword">ReactDatum.Email</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"sponsorEmail"</code> <code class="color1">label</code><code class="plain">=</code><code class="string">"Adoption Sponsor"</code> <code class="plain">displayLink/>&lt;/</code><code class="keyword">div</code><code class="plain">></code></div><div class="line number14 index13 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">label</code><code class="plain">>Leave a Comment!&lt;/</code><code class="keyword">label</code><code class="plain">></code></div><div class="line number15 index14 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">div</code><code class="plain">>&lt;</code><code class="keyword">ReactDatum.Text</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"comment"</code> <code class="color1">className</code><code class="plain">=</code><code class="string">"wide-input"</code><code class="plain">/>&lt;/</code><code class="keyword">div</code><code class="plain">></code></div><div class="line number16 index15 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">ReactDatum.Form</code><code class="plain">></code></div><div class="line number17 index16 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">ReactDatum.Model</code><code class="plain">></code></div><div class="line number18 index17 alt1"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">&lt;/</code><code class="keyword">div</code><code class="plain">></code></div><div class="line number19 index18 alt2"><code class="undefined spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain">)</code></div><div class="line number20 index19 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">}</code></div><div class="line number21 index20 alt2"><code class="plain">})</code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>The <strong>ReactDatum.Form</strong> component adds save and cancel buttons.  When the user presses save, model.save() is called. All of the attributes were set() when the user entered new values If cancel is clicked, the model and subsequently, the form are reset back to the state of the last model.save().</p>
<p>By wrapping the datums in the <strong>ReactDatum.Form</strong> tag, they implicitedly recieve <code>inputMode=&#39;edit&#39;</code> props that make them all render as inputs.  Almost all.  Some Datums, like <strong>ReactDatum.LazyPhoto</strong>, only have a display presentation, no update.  If given an <code>inputMode=&#39;edit&#39;</code> they will ignore, and continue showing their display (`inputMode=&#39;readonly&#39;``) representation.  </p>
</span></div><div id="Form-propTypes"><h4>Form propTypes:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_462637" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor"># can also accept model instance as context var. prop has precendence </code></div><div class="line number2 index1 alt1"><code class="plain">model: @modelOrObject()</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="preprocessor"># you can specify any method on the model to call when save is clicked</code></div><div class="line number5 index4 alt2"><code class="preprocessor"># TODO : add ability to also pass in a func?&nbsp; would need to accept model, attrs, options</code></div><div class="line number6 index5 alt1"><code class="plain">modelSaveMethod: React.PropTypes.string</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="preprocessor">#&nbsp; no formMode like zform, but we have to support programatic readonly</code></div><div class="line number9 index8 alt2"><code class="preprocessor">#&nbsp; see also ClickToEditForm component.&nbsp;&nbsp; readonly should always take precendence</code></div><div class="line number10 index9 alt1"><code class="plain">readonly: React.PropTypes.bool</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="preprocessor"># you can style a buttonPossiton: 'top' to float left or right in css.</code></div><div class="line number13 index12 alt2"><code class="plain">buttonPosition: React.PropTypes.oneOf([</code><code class="string">'top'</code><code class="plain">, </code><code class="string">'bottom'</code><code class="plain">, </code><code class="string">'none'</code><code class="plain">])</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="preprocessor"># specify className of form element</code></div><div class="line number16 index15 alt1"><code class="plain">className: React.PropTypes.string</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="preprocessor"># on save success this method, if specified, will be called with the standard</code></div><div class="line number19 index18 alt2"><code class="preprocessor"># Backbone success callback arguments (model, response, options)</code></div><div class="line number20 index19 alt1"><code class="preprocessor"># If you don't specify a saveSuccessCallback, a small success message will be rerendered</code></div><div class="line number21 index20 alt2"><code class="preprocessor"># below the form button after successfully saving the form</code></div><div class="line number22 index21 alt1"><code class="plain">saveSuccessCallback: React.PropTypes.func</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="preprocessor"># on save error this method, if specified, will be called with the standard</code></div><div class="line number25 index24 alt2"><code class="preprocessor"># Backbone error callback arguments (model, response, options)</code></div><div class="line number26 index25 alt1"><code class="preprocessor"># If you don't specify a saveErrorCallback, an error message will be rerendered</code></div><div class="line number27 index26 alt2"><code class="preprocessor"># below the form button after failing to save the form on user request</code></div><div class="line number28 index27 alt1"><code class="plain">saveErrorCallback: React.PropTypes.func</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="Form-defaultProps"><h4>Form defaultProps:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_266428" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">readonly: </code><code class="keyword">false</code></div><div class="line number2 index1 alt1"><code class="plain">buttonPosition: </code><code class="string">'bottom'</code></div><div class="line number3 index2 alt2"><code class="plain">className: </code><code class="string">'form'</code></div><div class="line number4 index3 alt1"><code class="plain">modelSaveMethod: </code><code class="string">'save'</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="Form-contextTypes"><h4>Form contextTypes:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_652061" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="preprocessor">### can also accept model instance as a prop.&nbsp; prop has precendence ###</code></div><div class="line number2 index1 alt1"><code class="plain">model: @modelOrObject()</code></div><div class="line number3 index2 alt2"><code class="plain">inputMode: Datum.contextTypes.inputMode</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div class="methods"><noscript></noscript><div class="instance-methods"><h4>Form Instance Methods:</h4><div id="Form_renderButtonContainer" class="method"><h5 class="method-name">renderButtonContainer(options={}) </h5><div class="markdown no-gutter"><span><p>Gives the first editable datum focus</p>
</span></div></div><div id="Form_save" class="method"><h5 class="method-name">save(options={})</h5><div class="markdown no-gutter"><span><p>Save the changes from datums on the form to the Backbone model.</p>
<p>Calls model.save after first attempting to validate() the model.  Handles
inconsistencies in model.validate() between versions 0.9.2 - 1.2.2 of Backbone.</p>
<p>The user clicking on the save button belonging to the Form will call this Method</p>
<p>The options argument is passed on to Backbone model.save()</p>
</span></div></div><div id="Form_validateDatums" class="method"><h5 class="method-name">validateDatums(options={}) </h5><div class="markdown no-gutter"><span><p>Validate the datums on the form.</p>
<p>returns false if any are currently invalid</p>
</span></div></div><div id="Form_validateModel" class="method"><h5 class="method-name">validateModel(options={}) </h5><div class="markdown no-gutter"><span><p>Calls Backbone model.validate and handles inconsistencies in model.validate()
between versions 0.9.2 - 1.2.2 of Backbone.</p>
</span></div></div><div id="Form_saveModel" class="method"><h5 class="method-name">saveModel(options={}) </h5><div class="markdown no-gutter"><span><p>calls Backbone model.save and calls success and error handlers.</p>
<p>You should probably call Form.save() above instead.  It will also validate the model
and datums.</p>
</span></div></div><div id="Form_addDatum" class="method"><h5 class="method-name">addDatum(datumComponent) </h5><div class="markdown no-gutter"><span><p>This method is called by the datum children when they mount</p>
</span></div></div><div id="Form_removeDatum" class="method"><h5 class="method-name">removeDatum(datumComponent) </h5><div class="markdown no-gutter"><span><p>This method is called by the datum children when they unmount</p>
</span></div></div></div></div></div></div><div class="component-doc" id="Model"><div class="signature">module.exports = class Model extends ContextualData</div><h3>Model</h3><div class="content"><div class="markdown undefined"><span><p>This react-datum component provides datums with a Backbone model and rerenders descendants on model changes.  </p>
<p>Any datum component like <a href="TODO: add a link do doc page">ReactDatum.Text</a>, will accept the Backbone model provided by this class as a context variable.  Outside of a <strong>ReactDatum.Model*</strong> component, datums will not respond to model changes.</p>
</span></div><div id="Model-propTypes"><h4>Model propTypes:</h4><div class="classvar-reference"><label>See Also: </label><a href="#ContextualData-propTypes">ContextualData.propTypes</a></div><div class="markdown no-gutter"><span><pre><code><div id="highlighter_603909" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">model: React.PropTypes.oneOfType([</code></div><div class="line number2 index1 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.instanceOf(Backbone.Model)</code></div><div class="line number3 index2 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">React.PropTypes.func</code></div><div class="line number4 index3 alt1"><code class="plain">]).isRequired</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><noscript></noscript><noscript></noscript><div class="methods"><noscript></noscript><noscript></noscript></div></div></div><div class="component-doc" id="Options"><div class="signature">module.exports = class Options </div><h3>Options</h3><div class="content"><div class="markdown undefined"><span><p>These are global options used to control various aspects
of ReactDatum rendering and functionality.</p>
</span></div><noscript></noscript><noscript></noscript><noscript></noscript><div class="methods"><div class="class-methods"><h4>Options Class Methods:</h4><div id="Options_set" class="method"><h5 class="method-name">set(option, value) </h5><div class="markdown no-gutter"><span><p>Use to set a ReactDatum option.  Available options and defaults:</p>
<p>ReactBootstrap: Defaults to global &#39;ReactBootstrap&#39; if it exists.
If set this option will use ReactBootstrap for popovers such as when
a Datum is ellipsized and for validation errors.
If not set, ReactDatum will use the HTML5 title tooltips for popovers</p>
<p>errorIconClass: default: null.  Icon css class to use for indicating
validation errors. If not set, a red unicode exclamation point is used.</p>
<p>Examples:</p>
<pre><code><div id="highlighter_444012" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">ReactDatum = require(</code><code class="string">'react-datum'</code><code class="plain">)</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="comments">// use the version of react bootstrap I got somewhere above</code></div><div class="line number4 index3 alt1"><code class="plain">ReactDatum.Options.set(</code><code class="string">'ReactBootstrap'</code><code class="plain">, loadedBootstrapLib)</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="comments">// use the fontawesome 4.5 exclamation sign icon for errors</code></div><div class="line number7 index6 alt2"><code class="plain">ReactDatum.Options.set(</code><code class="string">'errorIconClass'</code><code class="plain">, </code><code class="string">'fa fa-exclamation-circle'</code><code class="plain">)</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div id="Options_get" class="method"><h5 class="method-name">get(option=null) </h5><div class="markdown no-gutter"><span><p>Get a previously set option or it&#39;s default if not set</p>
</span></div></div></div><noscript></noscript></div></div></div><div class="component-doc" id="SelectedModel"><div class="signature">module.exports = class SelectedModel extends ContextualData</div><h3>SelectedModel</h3><div class="content"><div class="markdown undefined"><span><p>This react-datum contextual component provides datums with a Backbone model that is selected model in the collection.  It also  rerenders descendants on collection selection changes.  </p>
<p>Any descendant datum that accept a <code>model</code> context or prop, can be wrapped in a <strong>ReactDatum.SelectedModel</strong> component and will respond to changes in the model and on changes to the selected model in the collection.</p>
<p>Simple example:</p>
<pre><code class="lang-jsx"><div id="highlighter_490550" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="keyword">var</code> <code class="plain">Rd = ReactDatum;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="plain">&lt;</code><code class="keyword">Rd.SelectedModel</code> <code class="plain">collection={myBackboneCollection} </code><code class="color1">placeholder</code><code class="plain">=</code><code class="string">"Wait for it..."</code><code class="plain">></code></div><div class="line number4 index3 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">&lt;</code><code class="keyword">Rd.Text</code> <code class="color1">label</code><code class="plain">=</code><code class="string">"You selected: "</code> <code class="color1">attr</code><code class="plain">=</code><code class="string">"name"</code><code class="plain">/></code></div><div class="line number5 index4 alt2"><code class="plain">&lt;/</code><code class="keyword">Rd.SelectedModel</code><code class="plain">></code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="keyword">var</code> <code class="plain">index = 0;</code></div><div class="line number8 index7 alt1"><code class="plain">setInterval(</code><code class="keyword">function</code><code class="plain">(){</code></div><div class="line number9 index8 alt2"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">myBackboneCollection.selectModelByIndex(index);</code></div><div class="line number10 index9 alt1"><code class="undefined spaces">&nbsp;&nbsp;</code><code class="plain">index += 1;</code></div><div class="line number11 index10 alt2"><code class="plain">}, 5000)</code></div></div></td></tr></tbody></table></div>
</code></pre>
<p>The (example above)[TODO: add link to github.io example] when run, will initially display a placeholder, &quot;Wait for it...&quot; and then every five seconds select the next model in the collection. </p>
<p>The placeholder prop will render in place of any children when there is no selected model in the collection and can be any React renderable.</p>
<h4 id="selectablecollection-mixin">SelectableCollection mixin</h4>
<p>Use of the SelectedModel component will automatically add the ReactDatum.SelectableCollection to the collection instance unless collection.hasSelectableCollectionMixin is true.  <strong>setModelByIndex(index)</strong> in the example above is one of the methods added by that mixin. See (ReactDatum.SelectableCollection)[TODO: add doc link]</p>
</span></div><noscript></noscript><noscript></noscript><div id="SelectedModel-contextTypes"><h4>SelectedModel contextTypes:</h4><div class="markdown no-gutter"><span><pre><code><div id="highlighter_550257" class="syntaxhighlighter  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain">collection: React.PropTypes.instanceOf(Backbone.Collection)</code></div></div></td></tr></tbody></table></div>
</code></pre></span></div></div><div class="methods"><noscript></noscript><div class="instance-methods"><h4>SelectedModel Instance Methods:</h4><div id="SelectedModel_getInputCollectionOrModel" class="method"><h5 class="method-name">getInputCollectionOrModel() </h5><div class="markdown no-gutter"><span><p>override - We are going to provide a &#39;model&#39; context (contextKey), but we listen to a
collection</p>
</span></div></div></div></div></div></div></section></div></div></div></body></html>